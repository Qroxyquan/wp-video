var _={};_.canPlayM3U8=!!document.createElement("video").canPlayType("application/x-mpegURL")?true:false;_.isChromeOnMac=function(){var e=navigator.userAgent.toLowerCase();if(e.match(/Macintosh/i)&&e.match(/Chrome/i))return true;else return false};_.each=function(e,t,r,i,n){if(typeof e.length=="number"){for(i=0,n=e.length;i<n;i++)if(t.call(r,e[i],i)==false)break}else for(i in e)if(t.call(r,e[i],i)==false)break};_.extend=function(e){var t=arguments.length,r=1,i;while(r<t){i=arguments[r];for(var n in i){if(i.hasOwnProperty(n)){e[n]=i[n]}}r++}return e};_.queryString=function(e){var t=[];_.each(e,function(e,r){e!==undefined&&t.push(r+"="+e)});return t.join("&")};_.byId=function(e){return document.getElementById(e)};_.rNode=function(e){try{e.parentNode.removeChild(e)}catch(t){}};_.cTag=function(e,t,r,i){var n=document.createElement(e),a="";_.each(t||{},function(e,t){a+=[t,":",e,";"].join("")}),n.style.cssText=a;_.each(r||{},function(e,t){n.setAttribute(t,e)});return i&&i.appendChild(n)||n};_.jsonp=function(e,t,r,i){var n,a="HTML5PlayerCallBack"+ +new Date+Math.random().toString().replace(".","");var o=e.indexOf("?")>=0;t=_.queryString(t);if(t.length)t=(o?"&":"?")+t;i=[o||t.length?"&":"?",i||"callback","=",a].join("");window[a]=function(){r&&r.apply(this,arguments);delete window[a];_.rNode(n)};(n=_.cTag("script",{},{},document.body)).src=e+t+i};_.times=function(){return(new Date).getTime()};_.log=function(e){window.console||window.console(e)};_.isMobile=function(){var e=navigator.userAgent.toLowerCase();var t=e.match(/ipad/i)=="ipad";var r=e.match(/iphone os/i)=="iphone os";var i=e.match(/midp/i)=="midp";var n=e.match(/rv:1.2.3.4/i)=="rv:1.2.3.4";var a=e.match(/ucweb/i)=="ucweb";var o=e.match(/android/i)=="android";var c=e.match(/windows ce/i)=="windows ce";var s=e.match(/windows mobile/i)=="windows mobile";var d=e.match(/windows phone/i)=="windows phone";if(t||r||i||n||a||o||c||s||d){return true}else{return false}};_.cookie={get:function(e){var t=null;var r=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),i=r.exec(document.cookie);if(i){t=i[2]||""}if("string"==typeof t){t=decodeURIComponent(t);return t}return""},set:function(e,t,r){r=r||{};t=encodeURIComponent(t);var i=r.expires;if("number"==typeof r.expires){i=new Date;i.setTime(i.getTime()+r.expires)}document.cookie=e+"="+t+(r.path?"; path="+r.path:"")+(i?"; expires="+i.toGMTString():"")+(r.domain?"; domain="+r.domain:"")+(r.secure?"; secure":"")},remove:function(e,t){t=t||{};t.expires=new Date(0);_.cookie.set(e,"",t)}};function show(e,t,r){try{var i=_.byId(e);i.innerHTML="";var n=_.cTag("video",null,{src:t,controls:"controls",preload:"preload",width:r.width,height:r.height},i)}catch(a){}}function pptv(e,t,r,i){function n(e){var t,r,i,n,o,c,s,d,h,f;for(var l in e.childNodes){var u=e.childNodes[l];if(u.tagName==="channel"){c=u.nm;f=u.vt;s=u.dur;for(var p in u.childNodes){var v=u.childNodes[p];if(v.tagName==="live"){d=v.start;h=v.end}if(v.tagName==="file"||v.tagName==="stream"){var m=v.tagName==="file"?v.cur:v.cft;for(var g in v.childNodes){var _=v.childNodes[g];if(_.ft===m){t=m;r=_.rid;break}}}if(t){break}}}else{if(u.tagName==="dt"&&(u.ft==t||!u.ft)){for(var y in u.childNodes){var w=u.childNodes[y];if(w.tagName==="sh"){i=w.childNodes[0]}else{if(w.tagName==="key"){n=w.childNodes[0]}}}}}}if(t!==undefined&&r&&i){r=r.replace(".mp4","");if(f==5){a.videoType=20;o="http://"+i+"/live/5/60/"+r+".m3u8?type="+a.loadType+"&begin="+d+"&end="+h}else{a.videoType=1;o="http://"+i+(a.islumia?"/w/":"/")+r+".m3u8?type="+a.loadType;o=a.islumia?o.replace("m3u8","mp4"):o}o+=n?"&k="+n:"";o+=a.segment?"&segment="+a.segment:""}else{}return o}var a={};if(_.canPlayM3U8){a.loadType="m3u8.web.pad"}else if(_.isChromeOnMac()||_.isMobile()){a.loadType="mpptv.wp";a.islumia=true}_.jsonp("http://web-play.pptv.com/webplay3-0-"+e+".xml",{version:4,type:a.loadType,kk:t,o:"v.pptv.com"},function(e){var t=n(e);if(_.canPlayM3U8){show(r,t,i)}else if(_.isChromeOnMac()||_.isMobile()){show(r,t,i)}},"cb")}function sina(e,t,r,i){if(_.isChromeOnMac()||_.isMobile()){if(t==1){_.jsonp("http://video.sina.com.cn/interface/video_ids/video_ids.php",{v:e},function(e){var t=e.ipad_vid;var n="http://v.iask.com/v_play_ipad.php?vid="+t+"&tags=newsList_web";show(r,n,i)})}else if(t==2){show(r,"http://v.iask.com/v_play_ipad.php?vid="+e+"&tags=newsList_web",i)}}}function youku(e,t,r){var i="b4et";var n="boa4";var a="4";var o="1";var c;var s;var d;function h(e){if(!e)return"";var e=e.toString(),t,r,i,n,a,o=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];n=e.length;i=0;for(a="";i<n;){do t=o[e.charCodeAt(i++)&255];while(i<n&&-1==t);if(-1==t)break;do r=o[e.charCodeAt(i++)&255];while(i<n&&-1==r);if(-1==r)break;a+=String.fromCharCode(t<<2|(r&48)>>4);do{t=e.charCodeAt(i++)&255;if(61==t)return a;t=o[t]}while(i<n&&-1==t);if(-1==t)break;a+=String.fromCharCode((r&15)<<4|(t&60)>>2);do{r=e.charCodeAt(i++)&255;if(61==r)return a;r=o[r]}while(i<n&&-1==r);if(-1==r)break;a+=String.fromCharCode((t&3)<<6|r)}return a}function f(e){if(!e)return"";var e=e.toString(),t,r,i,n,a,o;i=e.length;r=0;for(t="";r<i;){n=e.charCodeAt(r++)&255;if(r==i){t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((n&3)<<4);t+="==";break}a=e.charCodeAt(r++);if(r==i){t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((n&3)<<4|(a&240)>>4);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((a&15)<<2);t+="=";break}o=e.charCodeAt(r++);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>2);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((n&3)<<4|(a&240)>>4);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((a&15)<<2|(o&192)>>6);t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o&63)}return t}function l(e,t){for(var r=[],i=0,n,a="",o=0;256>o;o++)r[o]=o;for(o=0;256>o;o++)i=(i+r[o]+e.charCodeAt(o%e.length))%256,n=r[o],r[o]=r[i],r[i]=n;for(var c=i=o=0;c<t.length;c++)o=(o+1)%256,i=(i+r[o])%256,n=r[o],r[o]=r[i],r[i]=n,a+=String.fromCharCode(t.charCodeAt(c)^r[(r[o]+r[i])%256]);return a}function u(e,t){for(var r=[],i=0;i<e.length;i++){for(var n=0,n="a"<=e[i]&&"z">=e[i]?e[i].charCodeAt(0)-97:e[i]-0+26,a=0;36>a;a++)if(t[a]==n){n=a;break}r[i]=25<n?n-26:String.fromCharCode(n+97)}return r.join("")}function p(e,t){this._sid=s;this._seed=e.seed;this._fileType=t;var r=new v(this._seed);this._streamFileIds=e.streamfileids;this._videoSegsDic={};for(t in e.segs){for(var i=[],n=0,a=0;a<e.segs[t].length;a++){var o=e.segs[t][a],c={};c.no=o.no;c.size=o.size;c.seconds=o.seconds;o.k&&(c.key=o.k);c.fileId=this.getFileId(e.streamfileids,t,parseInt(a),r);c.type=t;c.src=this.getVideoSrc(o.no,e,t,c.fileId);i[n++]=c}this._videoSegsDic[t]=i}}function v(e){this._randomSeed=e;this.cg_hun()}v.prototype={cg_hun:function(){this._cgStr="";for(var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ/\\:._-1234567890",t=e.length,r=0;r<t;r++){var i=parseInt(this.ran()*e.length);this._cgStr+=e.charAt(i);e=e.split(e.charAt(i)).join("")}},cg_fun:function(e){for(var e=e.split("*"),t="",r=0;r<e.length-1;r++)t+=this._cgStr.charAt(e[r]);return t},ran:function(){this._randomSeed=(211*this._randomSeed+30031)%65536;return this._randomSeed/65536}};p.prototype={getFileId:function(e,t,r,i){for(var n in e)if(n==t){streamFid=e[n];break}if(""==streamFid)return"";t=i.cg_fun(streamFid);e=t.slice(0,8);r=r.toString(16);1==r.length&&(r="0"+r);r=r.toUpperCase();t=t.slice(10,t.length);return e+r+t},getVideoSrc:function(e,t,r,i,a,h){if(!t.videoid||!r)return"";var p={flv:0,flvhd:0,mp4:1,hd2:2,"3gphd":1,"3gp":0}[r],v={flv:"flv",mp4:"mp4",hd2:"flv","3gphd":"mp4","3gp":"flv"}[r],m=e.toString(16);1==m.length&&(m="0"+m);var g=t.segs[r][e].seconds,e=t.segs[r][e].k;if(""==e||-1==e)e=t.key2+t.key1;r="";t.show&&(r=t.show.show_paid?"&ypremium=1":"&ymovie=1");t="/player/getFlvPath/sid/"+s+"_"+m+"/st/"+v+"/fileid/"+i+"?K="+e+"&hd="+p+"&myp=0&ts="+g+"&ypp=0"+r;i=encodeURIComponent(f(l(u(n+"poz"+o,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),s+"_"+i+"_"+d)));t=t+("&ep="+i)+"&ctype=12&ev=1"+("&token="+d);t+="&oip="+c.data[0].ip;return"http://k.youku.com"+(t+((a?"/password/"+a:"")+(h?h:"")))}};_.jsonp("http://v.youku.com/player/getPlaylist/VideoIDS/"+e+"/Pf/4/ctype/12/ev/1",{},function(v){c=v;var m=v.data[0],g=l(u(i+"o0b"+a,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),h(m.ep));g=g.split("_");s=g[0];d=g[1];if(!/PlayStation/.test(window.navigator.userAgent)&&_.canPlayM3U8){var y=encodeURIComponent(f(l(u(n+"poz"+o,[19,1,4,7,30,14,28,8,24,17,6,35,34,16,9,10,13,22,32,29,31,21,18,3,2,23,25,27,11,20,5,15,12,0,33,26]).toString(),s+"_"+e+"_"+d)));var w=m.ip;show(t,"http://pl.youku.com/playlist/m3u8?vid="+e+"&type=flv&ctype=12&keyframe=1&ep="+y+"&sid="+s+"&token="+d+"&ev=1&oip="+w,r)}else if(_.isChromeOnMac()||_.isMobile()){var b=new p(m);show(t,b._videoSegsDic["3gphd"][0].src,r)}},"__callback")}function tudou(e,t,r){var i=e;var a="b4et";var o="boa4";var c="4";var s="1";var d;var h;var f;var l="MzU2NDY1MzIz",u="NjMxMzAzMw==",p="NTM0NjYzOA==",v="MzczMjMxMzc2";function m(e){var t=(w(atob(decodeURIComponent(e.ep)),N)||"_").split("_");e.sid=t[0];e.tk=t[1];return e}function g(e,t){var r=[];var i=window.atob(e+(t?u:p));for(var n=0,a=i.length;n<a;n+=2)r.push(i.substring(n,n+2));return r}function y(e,t){e=e(t?v:l,t);var r=[];for(var i=0,n=e.length;i<n;i++)r.push(String.fromCharCode(parseInt(e[i],16)));return r.join("")}function w(e,t){var r=[],i=0,n,a="";for(var o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++){i=(i+r[o]+t.charCodeAt(o%t.length))%256;n=r[o];r[o]=r[i];r[i]=n}o=0;i=0;for(var c=0;c<e.length;c++){o=(o+1)%256;i=(i+r[o])%256;n=r[o];r[o]=r[i];r[i]=n;a+=String.fromCharCode(e.charCodeAt(c)^r[(r[o]+r[i])%256])}return a}function b(e,t,r){var i={2:"flv",3:"mp4",4:"mp4",5:"hd2",99:"hd2"}[t||2];var n={vid:e.videoid,type:i,keyframe:1,ts:+new Date,sid:e.sid,token:e.tk,ctype:62,ev:1,oip:e.ip,ep:A(e.sid,e.videoid,e.tk,true),yktk:r};var a="http://pl.youku.com/playlist/m3u8?"+_.queryString(n)+k(e.videoid);return a}function k(e){var t="&vid="+e+"&uc_param_str=xk";return t}function C(e,t){var r=S(t);return[e,r].join("_")}function M(e,t){var r=S(t);return e.substring(0,8)+r+e.substring(10)}function S(e){var t=(e||0).toString(16);return t.length>1?t:"0"+t}function A(e,t,r,i){var n=[e,t,r].join("_");var a=btoa(w(n,T));if(!i)a=encodeURIComponent(a);return a}function j(e,i){var n=e.segs["3gphd"]||e.segs["mp4"];var a=e.streamfileids["3gphd"]||e.streamfileids["mp4"];if(n)n.forEach(function(i,n){if(i.k==-1)return;var o=C(e.sid,n);var c=M(a,n);var s=A(e.sid,c,e.tk);_.jsonp("http://k.youku.com/player/getFlvPath/sid/"+o+"/st/mp4/fileid/"+c,{ctype:62,ev:1,hd:1,mpy:0,ts:i.seconds,token:e.tk,oip:e.ip,ep:s,K:i.k},function(e){if(e&&e[0]&&e[0].server){i.url=e[0].server;show(t,i.url,r)}})})}function I(e){_.jsonp("http://v.youku.com/player/getPlaylist/VideoIDS/"+i+"/Pf/4/Sc/2",{ctype:62,ev:1},function(i){var a=i.data[0];var o=i.controller||{};var c=i.user||{};var s=a.show||{};var d={download:o.download_disabled||false,xplayer:o.xplayer_disable||false,app:o.app_disable||false,stage:parseInt(s.stage)||1,isVip:c.vip||false};var h=m(a);if(a.error_code&&a.error_code<0){d.errorCode=a.error_code;n("",d)}else if("m3u8"==e)show(t,b(h,2,""),r);else if("mp4"==e)j(h,d)},"__callback")}var N=y(g,0);var T=y(g,1);if(_.canPlayM3U8)I("m3u8");else if(_.isChromeOnMac()||_.isMobile())I("mp4")}function fivesix(e,t,r){_.jsonp("http://vxml.56.com/h5json/"+e+"/",{r:"",src:"m"},function(e){if(e!=null&&e["df"]!=undefined){var i=e.df;var n=i[i.length-1].url;if(_.canPlayM3U8||_.isChromeOnMac()||_.isMobile())show(t,n,r)}})}function sohu(e,t,r){var i=1e3*+new Date+Math.round(1e3*Math.random());function n(e){var t=e.length,r=0;return this.replace(/[0-9a-zA-Z]/g,function(i){var n=i.charCodeAt(0),a=65,o=26;n>=97?a=97:65>n&&(a=48,o=10);var c=n-a;return String.fromCharCode((c+e[r++%t])%o+a)})}function a(){_.jsonp("http://pad.tv.sohu.com/playinfo",{vid:e,playlistid:0,sig:n.call(""+(new Date).getTime(),[23,12,131,1321]),key:n.call(e,[23,12,131,1321]),uid:i},function(n){var a="";switch(n.quality){case 2:a=n.norVid;break;case 1:a=n.highVid;break;case 21:a=n.superVid;break;case 31:a=n.oriVid;break;default:a=n.highVid}show(t,a.replace(/ipad\d+\_/,"ipad"+e+"_")+"&uid="+i+"&ver="+n.quality+"&prod=h5&pt=2&pg=1&ch="+n.cid,r)})}function o(){_.jsonp("http://api.tv.sohu.com/v4/video/info/"+e+".json",{site:1,api_key:"695fe827ffeb7d74260a813025970bd5",sver:1,partner:1},function(e){show(t,e.data.download_url,r)})}if(_.canPlayM3U8)a();else if(_.isChromeOnMac()||_.isMobile())o()}function qq(e,t,r){_.jsonp("http://vv.video.qq.com/geturl",{otype:"json",vid:e,charge:0},function(e){if(_.canPlayM3U8||_.isChromeOnMac()||_.isMobile())show(t,e.vd.vi[0].url,r)})}function iqiyi(e,t,r){function i(e,t,r,i,n,a){function o(e,t){return((e>>1)+(t>>1)<<1)+(1&e)+(1&t)}function c(e,t,r,i){e>0&&5>e?r>=0?b<<6>t?(i=[i[3],o(i[1],(j=o(o(i[0],[i[1]&i[2]|~i[1]&i[3],i[3]&i[1]|~i[3]&i[2],i[1]^i[2]^i[3],i[2]^(i[1]|~i[3])][I=r>>4]),o(y(w(r+1))*_|0,T[[r,5*r+1,3*r+5,7*r][I]%16+(t++>>>6)])))<<(I=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*I+r%4])|j>>>32-I),i[1],i[2]],63&t?c(e,t,63&t,i):(N=[o(i[0],N[0]),o(i[1],N[1]),o(i[2],N[2]),o(i[3],N[3])],c(e,t+960,63&t,N))):T=[]:k?c(12,t,0,[1379551571,1113935683,859468107,2067627832,2001160031,2049917026,1380744535]):c(13,t,0,[993735481,895706677,993213745,1027355960,2004120360,656635436,2021338144,2071493503]):e>6&&10>e?(e=atob(unescape(i)),r<e.length?(T[t>>2]|=e.charCodeAt(r++)<<8*(t%4),c(9,++t,r,C)):(s(String.fromCharCode(81))&&(T[t>>2]|=1<<(t%4<<3)+7),T[b=(t+8>>6<<4)+14]=t<<3,c(3,0,0,N))):e>11&&15>e&&(r<i.length<<2?(T[t>>2]|=(i[r>>2]>>8*(3&r)&255^r++)<<((3&t++)<<3),c(14,t,r,i)):c(7,t,0,C))}function s(e){return"undefined"!=typeof window[e]}var d=screen.height,h=screen.width,f=window.orientation;(90===f||-90===f)&&(d=d>h?h:d);var l=window.devicePixelRatio;d=Math.round(d/l);var u=Math.round(window.screenTop/l),p=Math.round(window.outerHeight/l),v=d-p-u,m=btoa(u+"_"+v),g="",_=4294967296,y=Math.abs,w=Math.sin,b="";g+=s("_0")?(g?"_":"")+btoa("BOL"):"";var k=t,C=e,M=7,S={},A=(new Date).getTime();S.cache=(t?a+""+n:A-M)+"",C=escape(btoa(C)),S.cache=escape(btoa(k?S.cache+i+""+r:S.cache));var j,I,N=[j=1732584193,I=-271733879,~j,~I],T=[],x=function(){for(b=atob(unescape(S.cache)),I=0;I<b.length;)T[I>>2]|=b.charCodeAt(I)<<8*(I++%4);for(c(1,I,-1,T),b="",j=0;32>j;)b+=(N[j>>3]>>4*(1^7&j++)&15).toString(16);return b},P=function(){var e="function%20javaEnabled%28%29%20%7B%20%5Bnative%20code%5D%20%7D",t="null";return"WebkitAppearance"in document.documentElement.style&&(t=escape(navigator.javaEnabled.toString())===e?"sgve":"sijsc"),t};if(t){var U={};return U.md=x,U.jc=P,U.d=A,U}var q=x();if(q.length>4){var z="";z+=document.URL+";"+window.devicePixelRatio+";&tim="+A,z=encodeURIComponent(z);var D={};return D.src="d846d0c32d664d32b6b54ea48997a589",D.sc=q,D.__refI=z,g&&(D.qd_jsin=g),m&&(D.qd_wsz=m),D.t=A-7,D.__jsT=P(),D}}var n=e.vid;var a=e;var o="";o=i(n);if(_.canPlayM3U8){_.jsonp("http://cache.m.iqiyi.com/jp/tmts/"+a.tvId+"/"+n+"/",{uid:"2007179977",cupid:"qc_100001_100103",platForm:"h5",type:"m3u8",rate:1,src:o.src,sc:o.sc,t:o.t},function(e){show(t,e.data.m3u,r)})}else if(_.isChromeOnMac()||_.isMobile()){_.jsonp("http://cache.m.iqiyi.com/jp/tmts/"+a.tvId+"/"+n+"/",{uid:"2007179977",cupid:"qc_100001_100186",platForm:"h5",type:"mp4",rate:1,src:o.src,sc:o.sc,t:o.t},function(e){show(t,e.data.m3u,r)})}}